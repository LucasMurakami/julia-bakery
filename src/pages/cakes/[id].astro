---
import Layout from '../../layouts/Layout.astro';
import Nav from '../../components/ui/Nav';
import Footer from '../../components/Footer.astro';
import { Button } from '../../components/ui/button';

export function getStaticPaths() {
  const cakes = [
    {
      id: 1,
      name: 'Chocolate Truffle Dream',
      description: 'Camadas ricas de bolo de chocolate belga intercaladas com ganache aveludada.',
      price: 'R$ 180,00',
      image: 'https://images.unsplash.com/photo-1578985545062-69928b1d9587?q=80&w=1000&auto=format&fit=crop',
      ingredients: ['Chocolate Belga 70%', 'Creme de Leite Fresco', 'Manteiga Extra', 'Cacau em P√≥ Alcalino', 'Extrato de Baunilha'],
      allergens: ['Gl√∫ten', 'Leite', 'Ovos', 'Pode conter tra√ßos de nozes'],
      details: 'Nosso best-seller absoluto. Quatro camadas de bolo de chocolate √∫mido, intercaladas com ganache de chocolate meio amargo e finalizadas com raspas de chocolate belga. Perfeito para os amantes de chocolate.'
    },
    {
      id: 2,
      name: 'Vanilla Bean & Berries',
      description: 'Bolo de baunilha leve e aerado com frutas vermelhas frescas e creme de mascarpone.',
      price: 'R$ 165,00',
      image: 'https://images.unsplash.com/photo-1535254973040-607b474cb50d?q=80&w=1000&auto=format&fit=crop',
      ingredients: ['Fava de Baunilha de Madagascar', 'Morangos Frescos', 'Mirtilos', 'Framboesas', 'Queijo Mascarpone', 'Lim√£o Siciliano'],
      allergens: ['Gl√∫ten', 'Leite', 'Ovos'],
      details: 'Uma celebra√ß√£o de frescor. A massa leve de p√£o de l√≥ √© embebida em uma calda c√≠trica suave, recheada com um creme leve de mascarpone e muitas frutas vermelhas frescas selecionadas.'
    },
    {
      id: 3,
      name: 'Red Velvet Cl√°ssico',
      description: 'O tradicional red velvet com aquele toque suave de cacau e cobertura de cream cheese.',
      price: 'R$ 170,00',
      image: 'https://images.unsplash.com/photo-1616541823729-00fe0aacd32c?q=80&w=1000&auto=format&fit=crop',
      ingredients: ['Cacau em P√≥', 'Cream Cheese', 'Manteiga', 'Vinagre de Ma√ß√£', 'Corante Natural'],
      allergens: ['Gl√∫ten', 'Leite', 'Ovos'],
      details: 'Aveludado, macio e com um equil√≠brio perfeito entre o doce e o levemente √°cido do cream cheese frosting. Uma receita de fam√≠lia aperfei√ßoada para a sua mesa.'
    },
    {
      id: 4,
      name: 'Lim√£o Siciliano & Mirtilo',
      description: 'Refrescante e doce na medida certa. Massa de lim√£o com recheio de compota de mirtilo.',
      price: 'R$ 155,00',
      image: 'https://images.unsplash.com/photo-1519340333755-56e9c1d04579?q=80&w=1000&auto=format&fit=crop',
      ingredients: ['Lim√£o Siciliano', 'Mirtilos Selvagens', 'Iogurte Natural', 'Manteiga', 'A√ß√∫car de Confeiteiro'],
      allergens: ['Gl√∫ten', 'Leite', 'Ovos'],
      details: 'Burst de sabor! A massa leva raspas de lim√£o e iogurte para garantir a umidade, com camadas de nossa compota caseira de mirtilos e cobertura de buttercream de lim√£o.'
    },
    {
      id: 5,
      name: 'Cenoura com Especiarias',
      description: 'Bolo de cenoura √∫mido, nozes e um toque de canela, coberto com glac√™ real.',
      price: 'R$ 145,00',
      image: 'https://images.unsplash.com/photo-1621303837174-89787a7d4729?q=80&w=1000&auto=format&fit=crop',
      ingredients: ['Cenouras Frescas', 'Nozes Pecan', 'Canela', 'Noz Moscada', 'Gengibre', 'Queijo Cremoso'],
      allergens: ['Gl√∫ten', 'Leite', 'Ovos', 'Nozes'],
      details: 'N√£o √© apenas um bolo de cenoura. √â uma experi√™ncia arom√°tica com um mix de especiarias quentes, peda√ßos crocantes de nozes e uma cobertura cremosa irresist√≠vel.'
    },
    {
      id: 6,
      name: 'Confetti Celebration',
      description: 'Para celebrar! Massa de baunilha colorida com confeitos e buttercream suave.',
      price: 'R$ 160,00',
      image: 'https://images.unsplash.com/photo-1558301211-0d8c8ddee6ec?q=80&w=1000&auto=format&fit=crop',
      ingredients: ['Extrato de Baunilha', 'Confeitos Coloridos', 'Manteiga', 'Leite', 'Claras de Ovo'],
      allergens: ['Gl√∫ten', 'Leite', 'Ovos', 'Soja'],
      details: 'A alegria em forma de bolo. Massa fofinha estilo funfetti, recheada e coberta com nosso buttercream de merengue su√≠√ßo super leve e, claro, muitos confetes!'
    },
  ];

  return cakes.map((cake) => ({
    params: { id: cake.id.toString() },
    props: { cake },
  }));
}

const { cake } = Astro.props;
---

<Layout>
  <div class="min-h-screen bg-[hsl(var(--background))]">
    <Nav client:load forceOpaque={true} />
    
    <main class="pt-32 pb-16 px-6 md:px-10 lg:px-16">
      <div class="mx-auto max-w-6xl">
        <a href="/cakes" class="inline-flex items-center text-sm font-semibold uppercase tracking-wider text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] transition-colors mb-8 group">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4 transition-transform group-hover:-translate-x-1"><path d="m15 18-6-6 6-6"/></svg>
          Voltar para Bolos
        </a>

        <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-start">
          <!-- Image Section -->
          <div class="relative aspect-square overflow-hidden rounded-2xl shadow-xl" data-animate>
            <img 
              src={cake.image} 
              alt={cake.name} 
              class="h-full w-full object-cover"
            />
          </div>

          <!-- Content Section -->
          <div class="flex flex-col h-full justify-center" data-animate data-animate-delay="1">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold uppercase text-[hsl(var(--foreground))] mb-4">
              {cake.name}
            </h1>
            <p class="text-2xl font-semibold text-[hsl(var(--primary))] mb-6 underline decoration-wavy decoration-[hsl(var(--accent))] decoration-2 underline-offset-4">
              {cake.price}
            </p>
            
            <p class="text-lg text-[hsl(var(--muted-foreground))] leading-relaxed mb-8">
              {cake.details}
            </p>

            <div class="space-y-6 mb-10 border-t border-b border-[hsl(var(--border))] py-8">
              <div>
                <h3 class="font-bold uppercase tracking-wider text-sm mb-3 flex items-center gap-2">
                  <span class="text-xl">ü•£</span> Ingredientes Principais
                </h3>
                <div class="flex flex-wrap gap-2">
                  {cake.ingredients.map(ing => (
                    <span class="bg-white px-3 py-1 rounded-full text-sm border border-[hsl(var(--border))] text-[hsl(var(--muted-foreground))]">
                      {ing}
                    </span>
                  ))}
                </div>
              </div>
              
              <div>
                <h3 class="font-bold uppercase tracking-wider text-sm mb-3 flex items-center gap-2">
                   <span class="text-xl">‚ö†Ô∏è</span> Al√©rgenos
                </h3>
                <p class="text-sm text-[hsl(var(--muted-foreground))]">
                  {cake.allergens.join(', ')}.
                </p>
              </div>
            </div>

            <Button className="w-full md:w-auto self-start rounded-full bg-[hsl(var(--accent))] hover:bg-[hsl(var(--accent))] hover:opacity-100 hover:brightness-90 text-white font-bold uppercase tracking-wider py-6 px-10 text-lg shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all" client:load>
              Adicionar √† Encomenda
            </Button>
          </div>
        </div>
      </div>
    </main>
    
    <Footer />
  </div>
</Layout>
